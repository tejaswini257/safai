@tailwind base;
@tailwind components;
@tailwind utilities;

/* =====================================================
   üåó THEME TOKENS
===================================================== */
@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 222 47% 11%;

    --card: 0 0% 100%;
    --card-foreground: 222 47% 11%;

    --border: 214 32% 91%;
    --muted: 210 20% 98%;
    --muted-foreground: 215 16% 47%;

    --primary: 190 84% 42%;
    --primary-foreground: 0 0% 100%;
  }

  /* üåô DARK MODE ‚Äî FORCE SAFE */
  .dark {
    --background: 225 15% 7%;        /* #0D0E14 */
    --foreground: 0 0% 100%;         /* white */

    --card: 230 18% 13%;             /* #1A1C26 */
    --card-foreground: 0 0% 100%;

    --border: 230 16% 18%;            /* #252836 */
    --muted: 230 18% 16%;
    --muted-foreground: 220 10% 70%;  /* #9BA1B0 */

    --primary: 195 58% 55%;           /* #49B8D3 */
    --primary-foreground: 0 0% 100%;

    --sidebar-bg: 225 15% 7%;
  }
}

/* =====================================================
   üåç BASE RESET
===================================================== */
@layer base {
  html,
  body {
    background-color: hsl(var(--background));
    color: hsl(var(--foreground));
    -webkit-font-smoothing: antialiased;
  }

  * {
    border-color: hsl(var(--border));
  }

  h1, h2, h3, h4, h5, h6,
  p, span, label, small {
    color: hsl(var(--foreground));
  }
}

/* =====================================================
   üß± CORE COMPONENTS
===================================================== */
@layer components {

  .card {
    background-color: hsl(var(--card));
    color: hsl(var(--card-foreground));
    border: 1px solid hsl(var(--border));
    border-radius: 14px;
  }

  .dark .card {
    box-shadow: 0 14px 40px rgba(0,0,0,0.65);
  }

  header,
  .header,
  .topbar {
    background-color: hsl(var(--background));
    color: hsl(var(--foreground));
  }

  .sidebar {
    background-color: hsl(var(--sidebar-bg));
    color: hsl(var(--foreground));
  }
}

/* =====================================================
   üî• FORCE DARK MODE CONSISTENCY (KEY FIX)
===================================================== */

/* Ensure all containers dark - Expanded coverage */
.dark div,
.dark section,
.dark article,
.dark aside,
.dark main,
.dark header,
.dark footer,
.dark nav,
.dark form,
.dark fieldset,
.dark dialog,
.dark details,
.dark summary {
  background-color: transparent;
  color: hsl(var(--foreground));
}

/* Kill ALL light backgrounds - Expanded coverage */
.dark .bg-white,
.dark .bg-gray-50,
.dark .bg-gray-100,
.dark .bg-gray-200,
.dark .bg-slate-50,
.dark .bg-slate-100,
.dark .bg-neutral-50,
.dark .bg-neutral-100,
.dark .bg-opacity-10,
.dark [style*="background: #fff"],
.dark [style*="background-color: #fff"],
.dark [style*="background: #f8fafc"],
.dark [style*="background-color: #f8fafc"],
.dark [style*="background:#EAFBFD"] {
  background-color: hsl(var(--card)) !important;
}

/* Fix text colors - Enhanced for better visibility */
.dark .text-black,
.dark .text-gray-900,
.dark .text-gray-800,
.dark .text-gray-700,
.dark .text-gray-600,
.dark .text-muted-foreground,
.dark .text-gray-500,
.dark .text-gray-400,
.dark .text-slate-500,
.dark .text-slate-400 {
  color: hsl(var(--muted-foreground)) !important;
}

/* Force specific text colors for better visibility */
.dark h1, .dark h2, .dark h3, .dark h4, .dark h5, .dark h6,
.dark p, .dark span, .dark div, .dark label,
.dark .text-foreground,
.dark .text-primary-foreground {
  color: hsl(var(--foreground)) !important;
}

/* Inputs & forms - Enhanced for better visibility */
.dark input,
.dark select,
.dark textarea,
.dark .input,
.dark .form-input,
.dark .form-select,
.dark .form-textarea {
  background-color: hsl(var(--card)) !important;
  color: hsl(var(--foreground)) !important;
  border-color: hsl(var(--border)) !important;
  caret-color: hsl(var(--primary)) !important;
}

/* Placeholder text */
.dark ::placeholder,
.dark :-ms-input-placeholder,
.dark ::-ms-input-placeholder {
  color: hsl(var(--muted-foreground) / 0.8) !important;
  opacity: 1;
}

/* Tables - Enhanced for better visibility */
.dark table,
.dark thead,
.dark tbody,
.dark tr,
.dark th,
.dark td,
.dark .table,
.dark .table th,
.dark .table td {
  background-color: hsl(var(--card)) !important;
  color: hsl(var(--foreground)) !important;
  border-color: hsl(var(--border)) !important;
}

/* Table headers */
.dark th,
.dark thead th,
.dark thead td {
  background-color: hsl(var(--muted)) !important;
  color: hsl(var(--foreground)) !important;
  font-weight: 600;
}

/* Table rows */
.dark tr:hover,
.dark tbody tr:hover {
  background-color: hsl(var(--muted) / 0.5) !important;
}

/* Buttons - Enhanced for better visibility */
.dark button,
.dark .btn,
.dark .button {
  color: hsl(var(--foreground)) !important;
  background-color: hsl(var(--card)) !important;
  border-color: hsl(var(--border)) !important;
}

.dark button.primary,
.dark .btn-primary,
.dark .button-primary {
  background-color: hsl(var(--primary)) !important;
  color: hsl(var(--primary-foreground)) !important;
  border-color: hsl(var(--primary)) !important;
}

.dark button:hover,
.dark .btn:hover,
.dark .button:hover {
  opacity: 0.9;
  background-color: hsl(var(--muted)) !important;
}

/* =====================================================
   üñ± SCROLLBAR
===================================================== */
::-webkit-scrollbar {
  width: 6px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255,255,255,0.25);
  border-radius: 6px;
}

/* =====================================================
   ‚ú® ANIMATION
===================================================== */
@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

.animate-fade-in {
  animation: fadeIn 0.25s ease-in-out;
}
